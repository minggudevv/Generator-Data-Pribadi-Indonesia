<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Data Pribadi Indonesia</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Generator Data Pribadi Indonesia</h1>
        
        <div class="result-box">
            <div class="profile-section">
                <img id="foto" alt="Profile Photo" class="profile-photo">
                <h2 id="nama" class="selectable" style="font-size: 1.5rem; color: var(--text-primary);"></h2>
            </div>

            <div class="data-group">
                <h2>Informasi Pribadi</h2>
                <p><strong>Username:</strong> <span id="username" class="selectable"></span></p>
                <p><strong>Email:</strong> <span id="email" class="selectable"></span></p>
                <p><strong>Jenis Kelamin:</strong> <span id="gender" class="selectable"></span></p>
                <p><strong>No. Telp:</strong> <span id="telepon" class="selectable"></span></p>
            </div>

            <div class="data-group">
                <h2>Pekerjaan</h2>
                <p><strong>Perusahaan:</strong> <span id="perusahaan"></span></p>
                <p><strong>Jabatan:</strong> <span id="pekerjaan"></span></p>
            </div>

            <div class="data-group">
                <h2>Alamat</h2>
                <p id="alamat"></p>
                <p><strong>IP Address:</strong> <span id="ip"></span></p>
            </div>

            <div class="data-group">
                <h2>Kredensial</h2>
                <p><strong>Password:</strong> <span id="password"></span></p>
                <div id="kartuKredit"></div>
            </div>
        </div>

        <button onclick="generateData()" id="generateBtn">Generate Data Baru</button>
    </div>

    <script src="generator.js"></script>
    <script>
        let isGenerating = false;

        async function generateData() {
            if (isGenerating) return;
            
            const btn = document.getElementById('generateBtn');
            isGenerating = true;
            btn.textContent = 'Generating...';
            btn.disabled = true;

            try {
                const data = await generateDataLengkap();
                if (!data) return;
                
                document.getElementById('foto').src = data.foto || '';
                document.getElementById('nama').textContent = data.nama;
                document.getElementById('username').textContent = data.username;
                document.getElementById('email').textContent = data.email;
                document.getElementById('password').textContent = data.password;
                document.getElementById('ip').textContent = data.ip;
                document.getElementById('gender').textContent = data.jenisKelamin;
                document.getElementById('alamat').textContent = data.alamat;
                document.getElementById('telepon').textContent = data.telepon;
                document.getElementById('perusahaan').textContent = data.perusahaan;
                document.getElementById('pekerjaan').textContent = data.statusPekerjaan;
                document.getElementById('kartuKredit').innerHTML = `
                    <p>Bank: ${data.kartuKredit.bank}</p>
                    <p>Nomor: ${data.kartuKredit.number}</p>
                    <p>Expired: ${data.kartuKredit.expired}</p>
                    <p>CVV: ${data.kartuKredit.cvv}</p>
                `;
            } catch (error) {
                console.error('Error generating data:', error);
            } finally {
                isGenerating = false;
                btn.textContent = 'Generate Data Baru';
                btn.disabled = false;
            }
        }

        // Add selection handler
        document.addEventListener('dblclick', function(e) {
            if (e.target.classList.contains('selectable')) {
                // Select the text
                const range = document.createRange();
                range.selectNodeContents(e.target);
                const selection = window.getSelection();
                selection.removeAllRanges();
                selection.addRange(range);
                
                // Add visual feedback
                e.target.classList.add('selected');
                setTimeout(() => {
                    e.target.classList.remove('selected');
                }, 500);

                // Copy to clipboard
                try {
                    document.execCommand('copy');
                    // Optional: Show feedback that text was copied
                    console.log('Copied to clipboard');
                } catch (err) {
                    console.error('Failed to copy text');
                }
            }
        });

        // Generate initial values
        generateData();
    </script>
</body>
</html>